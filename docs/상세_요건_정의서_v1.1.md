# 한국 은행 개인 신용평가 시스템 (KCS)
# 상세 요건 정의서 (Software Requirements Specification)

**문서 번호**: KCS-SRS-2026-001
**버전**: v1.1
**작성일**: 2026-02-27
**최종 수정**: 2026-02-27 (deep-research 검토 반영)
**작성 주체**: 여신사업본부 / 리스크관리팀 / IT기획팀
**문서 상태**: 검토 중 (발주 전 현업 서명 필요)
**기밀 등급**: 대외비 (내부 배포)

---

## 승인 현황

| 역할 | 성명 | 서명 | 일자 |
|------|------|------|------|
| 여신사업 총괄 | | | |
| 리스크관리 팀장 | | | |
| 컴플라이언스 팀장 | | | |
| IT 기획 팀장 | | | |
| 내부감사 팀장 | | | |

> **주의**: 모든 역할의 서명 완료 전까지 본 문서를 RFP에 첨부할 수 없음

---

## 목차

1. [문서 관리](#1-문서-관리)
2. [사업 개요](#2-사업-개요)
3. [시스템 아키텍처 요건](#3-시스템-아키텍처-요건)
4. [신청자 유형 분류 체계](#4-신청자-유형-분류-체계)
5. [기능 요건](#5-기능-요건)
   - 5.1 신청자 유형 판별
   - 5.2 신용평가 엔진
   - 5.3 한도 산출
   - 5.4 금리 산출
   - 5.5 규제 준수 로직
   - 5.6 설명의무 및 고객 고지
   - 5.7 동의 관리
   - 5.8 심사 워크플로우
   - 5.9 고용주 등급 관리
   - 5.10 업종 리스크 관리
   - 5.11 모델 관리
   - 5.12 모니터링 및 경보
   - 5.13 보고서 자동 생성
   - 5.14 관리자 기능
6. [비기능 요건](#6-비기능-요건)
7. [데이터 요건](#7-데이터-요건)
8. [인터페이스 요건](#8-인터페이스-요건)
9. [테스트 요건](#9-테스트-요건)
10. [운영 요건](#10-운영-요건)
11. [검수 기준](#11-검수-기준)
12. [부록](#12-부록)

---

## 1. 문서 관리

### 1.1 버전 이력

| 버전 | 일자 | 변경 내용 | 작성자 |
|------|------|---------|------|
| v0.1 | 2026-02-27 | 초안 작성 (아키텍처 설계 기반) | IT기획팀 |
| v1.0 | 2026-02-27 | 신청자 유형 분리·직종 차별화 반영, 실무 검토 완료 | 여신사업본부 |
| v1.1 | 2026-02-27 | deep-research 검토 반영: 스트레스 DSR Phase 3, 규제 룰 버전 관리, 자동화평가 이의제기권, 칼리브레이션 KPI, 빈티지 모니터링, HSM/KMS, EAD/CCF, MRM 문서 추가 | 리스크관리팀 |

### 1.2 주요 용어 정의

| 용어 | 정의 |
|------|------|
| KCS | Korea Credit Scoring System. 본 시스템의 약칭 |
| Application Scorecard | 신규 대출 신청 시 부도 예측에 사용하는 모델 (신청평점) |
| Behavioral Scorecard | 기존 대출 고객의 위험 변화 모니터링 모델 (행동평점) |
| Collection Scorecard | 연체 발생 후 회수 가능성 예측 모델 (추심평점) |
| EQ Grade | Employer Quality Grade. 고용주 신용 등급 (EQ-S/A/B/C/D/E) |
| IRG | Industry Risk Grade. 업종 리스크 등급 (IRG-L/M/H/VH) |
| OSI | Occupation Stability Index. 직종 안정성 지수 |
| PD | Probability of Default. 부도확률 |
| LGD | Loss Given Default. 부도시 손실률 |
| EAD | Exposure At Default. 부도시 익스포저 |
| RW | Risk Weight. 리스크가중치 (바젤 표준방법) |
| RAROC | Risk-Adjusted Return on Capital. 리스크 조정 자기자본이익률 |
| DSR | Debt Service Ratio. 총부채원리금상환비율 |
| LTV | Loan-to-Value Ratio. 담보인정비율 |
| Shadow 운영 | 챌린저 모델을 고객에게 적용하지 않고 내부 결과만 기록하는 방식 |
| OOT | Out-of-Time. 학습 기간 이후의 독립 검증 기간 |
| PSI | Population Stability Index. 모집단 안정성 지수 |
| CB | Credit Bureau. 신용조회회사 (나이스평가정보, KCB) |
| CBS | Core Banking System. 핵심 뱅킹 시스템 |
| RBAC | Role-Based Access Control. 역할 기반 접근 제어 |
| KSIC | Korean Standard Industry Classification. 한국표준산업분류 |
| Brier Score | 확률 예측의 정확도 측정 지표. 완벽 예측 시 0, 낙후 예측 시 1 (낮을수록 좋음) |
| ECE | Expected Calibration Error. 예측 확률과 실제 부도율의 체계적 편차 측정값 |
| Vintage 분석 | 동일 시점 실행 코호트의 시간 경과별 연체·부도율 추적 분석 |
| CCF | Credit Conversion Factor. 미사용 한도의 부도 시 익스포저 전환 계수 |
| MRM | Model Risk Management Document. 모델 리스크 관리 문서 (목적·데이터·방법·결과·한계 포함) |
| KMS | Key Management System. 암호키 관리 시스템 |
| HSM | Hardware Security Module. 하드웨어 보안 모듈 (키 생성·저장·처리용) |
| RCA | Root Cause Analysis. 근본 원인 분석 |

### 1.3 참조 문서

| 문서명 | 버전 | 비고 |
|--------|------|------|
| 종합_설계_문서.md | v1.1 | 아키텍처 및 모델 설계 기준 |
| 실무검토_보고서_v1.1.md | v1.1 | 은행 실무 관점 검토 결과 |
| deep-research-report.md | 2026.02 | 외부 전문가 심층 검토 보고서 |
| 금감원 신용위험 모범규준 | 2024년 | 모델 성능 기준 |
| 금융위원회 AI 가이드라인 | 2024년 | 알고리즘 공정성 기준 |
| 인공지능기본법 | 2026.01 시행 | 고위험 AI 요건 |
| 바젤III 신용리스크 표준방법 | BCBS 최종안 | 경제자본 산출 기준 |
| 신용정보법 §39의5 | 현행 | 자동화평가 설명요구·이의제기권 |
| 은행업감독규정 §35의5 | 현행 | 다주택자 LTV 규제 |
| 개인정보보호법 §29, §24의2 | 현행 | 고유식별정보 안전조치·키 관리 |
| 금융보안원 ISMS-P 인증기준 | 현행 | 정보보호 관리체계 |

---

## 2. 사업 개요

### 2.1 사업 목적

본 사업은 **여신 건전성과 수익성을 동시에 달성**하는 데이터 기반 신용평가 시스템을 구축하는 것을 목적으로 한다.

> **핵심 설계 철학**
> 단순히 부도를 막는 보수적 모델이 아닌, RAROC(리스크 조정 자기자본이익률)을 극대화하는 최적 포트폴리오를 구성하는 지능형 심사 엔진을 구축한다. 지나치게 보수적인 모델은 우량 고객을 경쟁 은행에 빼앗기는 역선택 비용을 발생시킨다.

### 2.2 사업 범위

**대상 상품**

| 상품 | 대상 | 최대 한도 | 우선순위 |
|------|------|---------|---------|
| 신용대출 (무담보) | 개인, 개인사업자 | 연소득 × EQ배수 | Phase 1 |
| 주택담보대출 | 개인 | LTV × 담보가치 | Phase 1 |
| 소액마이크로론 | 개인, 개인사업자 | 3,000만원 | Phase 1 |
| 개인사업자 운전자금 | 개인사업자 | 연매출 × 0.5 | Phase 2 |

**대상 채널**

- 영업점 창구 (행원 대면 입력)
- 비대면 앱/웹 (고객 직접 신청)
- 콜센터 연계 (상담원 보조 입력)

**대상 사용자**

| 역할 | 주요 업무 |
|------|---------|
| 영업점 직원 | 신청 접수, 서류 확인, 결과 안내 |
| 여신 심사관 | 수동 심사, 예외 승인/거절 |
| 리스크팀 | 모델 성과 모니터링, 포트폴리오 분석 |
| 내부감사팀 | 규제 준수 감사, 로그 조회 |
| IT 운영팀 | 시스템 설정, 모델 배포 |
| 여신사업 총괄 | 정책 파라미터 승인, 경영 대시보드 |

### 2.3 사업 목표 (정량 지표)

| 목표 | 지표 | 목표값 | 측정 주기 |
|------|------|--------|---------|
| 모델 예측력 | OOT Gini | ≥ 0.30 | 분기 |
| 리스크 조정 수익 | 포트폴리오 RAROC | ≥ 12% | 분기 |
| 처리 속도 | P95 응답 시간 | ≤ 500ms | 실시간 |
| 규제 준수 | 하드컷 위반율 | 0% | 실시간 |
| 고객 설명 의무 | 거절 사유 고지율 | 100% | 일별 |
| 자동 처리율 | 자동 승인+거절 비율 | ≥ 80% | 월별 |
| 시스템 가용성 | 업타임 | ≥ 99.9% | 월별 |
| 모델 안정성 | Score PSI | < 0.10 (목표) | 월별 |
| 모델 칼리브레이션 | Brier Score | ≤ 기준선 대비 개선, ECE ≤ 0.02 | 분기 |
| 연체 조기경보 | 빈티지 3개월 DPD30+ | 코호트별 임계값 이내 | 월별 |

### 2.4 전제 조건 및 제약 사항

**전제 조건**

- CB(나이스평가정보, KCB) API 계약이 구축 전 완료되어야 함
- CBS 연동 인터페이스 명세는 CBS 벤더와 별도 협의 완료 필요
- 마이데이터 사업자 허가는 본 시스템 구축과 별개 추진 (미허가 시 오픈뱅킹 직접 동의 방식으로 대체)
- 국세청 API 연동 협의가 완료되어야 개인사업자 세금 신고 소득 자동 조회 가능

**제약 사항**

- 개인정보 처리는 국내 서버에서만 수행 (국외 이전 금지, 개인정보 보호법)
- 금융보안원 전자금융기반시설 보안 지침 준수 의무
- 오픈소스 라이선스: GPL 계열 사용 금지 (상용 또는 MIT/Apache 한정)
- 모델 학습용 데이터는 가명처리 후 사용 (개인정보 보호법 §28의2)

---

## 3. 시스템 아키텍처 요건

### 3.1 전체 구성 요건

```
[클라이언트 레이어]
영업점 창구 / 모바일 앱 / 콜센터
              │
              ▼
[API Gateway / 인증 레이어]
FastAPI REST API (Port 8000)
JWT 인증 + RBAC + Rate Limiting
              │
    ┌─────────┼──────────┐
    ▼         ▼          ▼
[평가 엔진] [신청관리]  [모니터링]
 Scoring    Application  Dashboard
 Engine     CRUD         PSI/Gini
    │
 ┌──┴───────────┐
 ▼              ▼
[모델 레지스트리] [규제 엔진]
 Champion/        DSR/LTV/
 Challenger       금리 하드컷
    │
    ▼
[ML 모델 레이어]
LightGBM (신청평점)
XGBoost (행동평점)
RandomForest (추심평점)
SHAP Explainer
              │
    ┌─────────┼─────────┐
    ▼         ▼         ▼
[PostgreSQL] [Redis]  [Kafka]
 결과·로그    캐시·세션  감사로그
                       큐
```

### 3.2 외부 연동 시스템 목록

| 시스템 | 연동 목적 | 연동 방식 | SLA |
|--------|---------|---------|-----|
| CB (나이스/KCB) | 신용점수, 연체이력, 대출 현황 | REST API (TLS 1.3) | 99.5% |
| CBS (핵심 뱅킹) | 기존 대출 현황, 계좌 정보 | 내부 API | 99.9% |
| 국세청 홈택스 | 종합소득세, 부가세 신고 데이터 | 행안부 공공데이터 API | 99.0% |
| 기업신용정보 (NICE/KED) | 고용주 EQ 등급 조회 | REST API | 99.0% |
| 금융결제원 오픈뱅킹 | 계좌 거래 내역 (고객 동의 기반) | REST API | 99.5% |
| 건강보험공단 | 소득 검증 (건보료 역산) | 공공 API | 99.0% |
| 국민연금공단 | 납부 이력 확인 | 공공 API | 99.0% |

### 3.3 인프라 요건

| 구분 | 사양 | 이중화 |
|------|------|------|
| API 서버 | 8 Core / 32GB RAM × 2대 | Active-Active |
| ML 추론 서버 | 16 Core / 64GB RAM × 2대 | Active-Standby |
| DB 서버 (PostgreSQL) | 16 Core / 128GB RAM / NVMe SSD | Primary-Replica |
| Redis | 8 Core / 32GB RAM × 2대 | Sentinel |
| Kafka | 3 Broker Cluster | |
| DR 사이트 | 운영 동일 사양 | Active-Standby |
| 백업 스토리지 | 운영 데이터 30일 일별 스냅샷 | Geo-redundant |

---

## 4. 신청자 유형 분류 체계

> **설계 원칙**: 부도 메커니즘이 다른 고객군은 반드시 분리 평가한다. 동일 모델로 평가 시 Gini 왜곡 및 부당한 차별 발생 위험이 있다.

### 4.1 유형 분류 트리

```
Level 1: 법인 여부
  └── 개인 (자연인) ──→ Level 2

Level 2: 사업자등록 여부
  ├── 사업자번호 보유 ──→ 개인사업자 트랙 (Track-B)
  └── 없음 ──→ Level 3

Level 3: 소득 유형
  ├── 4대보험/고용보험 확인 ──→ 직장인 트랙 (Track-S)
  ├── 국민연금/공무원연금 수령 ──→ 연금소득자 트랙 (Track-P)
  ├── 소득 검증 가능한 프리랜서 ──→ 비정형소득 트랙 (Track-F, Phase 2)
  └── 소득 미확인 ──→ 소액론만 가능 or 수동 심사
```

### 4.2 트랙별 핵심 특성 비교

| 구분 | Track-S (직장인) | Track-B (개인사업자) | Track-P (연금소득자) |
|------|---------------|-----------------|-----------------|
| 소득 안정성 | 이벤트 전까지 안정 | 상시 변동성 존재 | 매우 안정 (고정) |
| 주요 부도 트리거 | 실직·감원 | 매출 감소·폐업 | 건강 이상·배우자 사망 |
| 소득 검증 방법 | 건보료, 재직증명 | 종합소득세, 부가세 | 연금수령 통장 |
| 핵심 차별화 변수 | EQ Grade, OSI | IRG, 매출 성장률 | 연금 유형·수령기간 |
| 적용 상품 | 신용·주담대·소액 | 신용·소액 | 소액·주담대 |

---

## 5. 기능 요건

> **요건 작성 규칙**
> - 모든 요건에 고유 ID 부여 (예: `FR-TYPE-001`)
> - 합격 기준(Acceptance Criteria)은 자동화 테스트로 검증 가능하게 작성
> - 우선순위: **M** = Must Have (계약 필수) / **S** = Should Have / **W** = Want

---

### 5.1 신청자 유형 판별 (FR-TYPE)

#### FR-TYPE-001 — 자동 유형 판별 엔진 [M]

**설명**: 시스템은 신청 접수 시 입력 정보를 기반으로 신청자 유형을 자동으로 판별하고, 해당 평가 트랙으로 라우팅해야 한다.

**판별 로직**:

```
IF 사업자등록번호 입력됨 AND 국세청 사업자 조회 유효
  → Track-B (개인사업자)
ELSE IF 고용보험 피보험자 확인 OR 4대보험 가입 확인
  → Track-S (직장인)
ELSE IF 국민연금/공무원연금 수급 확인
  → Track-P (연금소득자)
ELSE
  → 소액마이크로론만 허용 OR 수동 심사 이관
```

**합격 기준**:
- 유형 판별 오류율 0% (사업자번호 보유자가 Track-S로 라우팅되는 건 = 오류)
- 판별 처리 시간 ≤ 50ms (외부 조회 제외)
- 유형 판별 결과는 감사 로그에 반드시 기록

**연관 테스트**: TC-TYPE-001~005

---

#### FR-TYPE-002 — 유형 수동 조정 [S]

**설명**: 자동 판별 오류 또는 예외 케이스의 경우, 심사관이 유형을 수동으로 조정할 수 있어야 한다.

**합격 기준**:
- 수동 조정 시 조정 사유 필수 입력 (100자 이내)
- 조정 이력 감사 로그 기록 (조정 전/후 유형, 조정자 ID, 사유)
- 수동 조정 건은 사후 검토 대상 자동 분류

---

### 5.2 신용평가 엔진 (FR-SCR)

#### FR-SCR-001 — 실시간 신용평가 [M]

**설명**: 시스템은 신청 접수 후 500ms 이내에 신용점수, 등급, 승인 여부, 거절 사유(해당 시)를 포함한 평가 결과를 반환해야 한다.

**평가 흐름**:

```
① 신청 수신 (0ms)
② JWT 인증 및 RBAC 확인 (5ms)
③ CB 동의 확인 (10ms)
④ 유형 판별 및 라우팅 (50ms, 외부 조회 포함)
⑤ 피처 엔지니어링 (30ms)
⑥ 하드컷 사전 검사 (10ms)   ← 모델 실행 전 규제 필터
⑦ 모델 추론 (LightGBM) (50ms)
⑧ SHAP 값 산출 Top-5 (80ms)
⑨ 점수 스케일링 + 등급 변환 (5ms)
⑩ 한도/금리 산출 (10ms)
⑪ 하드컷 후처리 검사 (10ms)  ← 최종 규제 필터
⑫ Kafka 감사 로그 발행 (0ms, 비동기 큐)
⑬ 응답 반환 (260ms 이내 목표)
```

**응답 JSON 필수 포함 항목**:

```json
{
  "application_id": "string",
  "evaluated_at": "ISO8601",
  "applicant_type": "individual_salaried | individual_business | individual_pensioner",
  "credit_score": 300~900,
  "credit_grade": "AAA|AA|A|BBB|BB|B|CCC|CC|C|D",
  "pd_estimate": 0.000~1.000,
  "decision": "AUTO_APPROVED | AUTO_REJECTED | PENDING_REVIEW",
  "approved_amount": 0~,
  "interest_rate": 0.00~20.00,
  "rejection_reasons": ["사유1", "사유2", "사유3"],
  "eq_grade_applied": "EQ-S|A|B|C|D|E",
  "irg_applied": "IRG-L|M|H|VH|N/A",
  "stress_dsr_applied": 0.00,
  "dsr_ratio": 0.00,
  "hard_cut_triggered": "DSR_EXCEED | LTV_EXCEED | TAX_DELINQUENT | null",
  "rate_capped_at_max": true|false,
  "shadow_model_id": "string | null"
}
```

**합격 기준**:
- P95 응답 시간 ≤ 500ms @ 200 TPS (운영 동일 사양)
- P99 응답 시간 ≤ 1,000ms
- 응답 JSON 필수 항목 누락 건수 = 0

---

#### FR-SCR-002 — 점수 스케일링 및 등급 체계 [M]

**점수 스케일링 공식**:

```
신용점수 = Offset - Factor × ln(Odds)
Odds     = PD / (1 - PD)
Factor   = PDO / ln(2)   (PDO = 40)
Offset   = Base_Score - Factor × ln(Base_Odds)

기준 파라미터:
  Base_Score = 600점   (기준 부도율에 대응하는 점수)
  Base_Odds  = 0.072 / (1 - 0.072)  ← 한국 신용대출 평균 부도율 7.2%
  PDO        = 40      (40점 차이 = 2배 부도확률 차이)
  점수 범위  = 300 ~ 900
```

**등급 체계**:

| 등급 | 점수 범위 | 기준 PD | 대출 처리 |
|------|---------|--------|---------|
| AAA | 820점 이상 | < 0.05% | 자동 승인 |
| AA | 780~819 | 0.05~0.10% | 자동 승인 |
| A | 740~779 | 0.10~0.30% | 자동 승인 |
| BBB | 700~739 | 0.30~1.00% | 자동 승인 |
| BB | 660~699 | 1.00~3.00% | 자동 승인 |
| B | 620~659 | 3.00~7.00% | 자동 승인 |
| CCC | 560~619 | 7.00~15.0% | 자동 승인 (리스크팀 모니터링) |
| CC | 500~559 | 15.0~30.0% | 수동 심사 권고 |
| C | 430~499 | 30.0~50.0% | 수동 심사 필수 |
| D | 430점 미만 | > 50.0% | 자동 거절 |

**합격 기준**:
- 출력 점수가 300~900 범위를 벗어나는 건수 = 0
- 등급-점수 매핑 오류 건수 = 0

---

#### FR-SCR-003 — 모델 라우팅 (유형별 Scorecard 분기) [M]

**설명**: 신청자 유형 및 대출 상품에 따라 적절한 Scorecard를 자동으로 선택해야 한다.

| 신청자 유형 | 대출 상품 | 적용 모델 |
|-----------|---------|---------|
| Track-S (직장인) | 신용대출 | Application Scorecard (직장인 버전) |
| Track-S (직장인) | 주택담보대출 | Application Scorecard (직장인 버전) + LTV 하드컷 |
| Track-B (개인사업자) | 신용대출 | Application Scorecard (개인사업자 버전) |
| Track-B (개인사업자) | 소액마이크로론 | Application Scorecard (개인사업자 경량화) |
| Track-P (연금소득자) | 소액마이크로론 | Application Scorecard (고정소득 버전) |
| 기존 대출 고객 (전체) | 월 배치 | Behavioral Scorecard |
| 연체 고객 | 즉시 | Collection Scorecard |

**합격 기준**:
- 유형-상품 조합에 따른 모델 라우팅 오류 = 0

---

#### FR-SCR-004 — SHAP 기반 설명 생성 [M]

**설명**: 모든 평가 결과에 대해 SHAP 값 기반 Top-3 기여 변수를 한국어 문장으로 제공해야 한다.

**요건 상세**:
- 거절 건: 부도 가능성을 높인 상위 3개 요인 + 각 요인이 점수에 미친 영향 (+/- 포인트)
- 승인 건: 승인에 긍정적으로 기여한 상위 3개 요인 (선택적 제공)
- 한국어 문장 형식: `"최근 3개월 신용조회 횟수(5회)가 평균(1.2회)보다 많아 신용점수에 -18점 영향을 미쳤습니다."`

**불합격 사례** (계약 불인정):
- 변수명 영문 그대로 출력: `"inquiry_count_3m: -18pts"` → **불합격**
- Top-3 미제공: `"신용이력 불량"` (단일 문장) → **불합격**

**합격 기준**:
- 거절 건 중 SHAP 한국어 설명 3개 미제공 건수 = 0
- 설명 문장에 영문 변수명 포함 건수 = 0

---

### 5.3 한도 산출 (FR-LMT)

#### FR-LMT-001 — 직장인 신용대출 한도 [M]

**산출 공식**:

```
Step 1: 소득 인정액 결정
  소득 인정액 = 연소득 × 소득 검증 신뢰도 계수
  ┌──────────────────────────┬────────┐
  │ 검증 방법                 │ 신뢰도  │
  ├──────────────────────────┼────────┤
  │ 근로소득원천징수영수증     │ 1.00   │
  │ 건강보험료 역산            │ 0.95   │
  │ 고용보험 확인              │ 0.90   │
  │ 신청자 자기 신고           │ 0.70   │
  └──────────────────────────┴────────┘

Step 2: EQ 등급별 소득 배수 적용
  ┌────────┬──────────┐
  │ EQ 등급 │ 한도 배수 │
  ├────────┼──────────┤
  │ EQ-S   │ 2.0배    │
  │ EQ-A   │ 1.7배    │
  │ EQ-B   │ 1.5배    │
  │ EQ-C   │ 1.2배    │
  │ EQ-D   │ 0.9배    │
  │ EQ-E   │ 0.7배    │
  └────────┴──────────┘
  소득배수 한도 = 소득 인정액 × EQ 배수

Step 3: 스트레스 DSR 역산 한도
  DSR 한도 = (월소득 × 40% - 기존 월원리금) / 신청 대출 월원리금 계수
  ※ 월원리금 계수 = 스트레스 심사금리 적용 원리금균등상환 기준

Step 4: 최종 한도
  최종 한도 = MIN(Step 2, Step 3, 상품 최대 한도)
```

**합격 기준**:
- 산출된 한도가 DSR 40%를 초과하는 건수 = 0
- 산출된 한도가 소득배수 한도를 초과하는 건수 = 0
- 세 값 중 최솟값 선택 오류 건수 = 0

---

#### FR-LMT-002 — 개인사업자 신용대출 한도 [M]

**산출 공식**:

```
Step 1: 소득 인정액 산출 (우선순위 순)
  방법 1 (신뢰도 1.00): 국세청 종합소득세 신고 순소득 (최근 2년 평균)
  방법 2 (신뢰도 0.85): 부가세 신고 매출 × 업종별 소득률
    ┌─────────────────┬──────────┐
    │ 업종 구분        │ 소득률   │
    ├─────────────────┼──────────┤
    │ 음식점/도소매    │ 15%      │
    │ 서비스업         │ 30%      │
    │ 전문직 서비스    │ 45%      │
    │ IT/소프트웨어    │ 40%      │
    │ 제조업           │ 20%      │
    └─────────────────┴──────────┘
  방법 3 (신뢰도 0.70): 사업계좌 12개월 입금액 평균 × 소득률

  인정소득 = 최고 신뢰도 방법의 산출 소득 × 신뢰도 계수

Step 2: IRG 등급별 한도 배수
  ┌──────────┬──────────┐
  │ IRG 등급  │ 한도 배수 │
  ├──────────┼──────────┤
  │ IRG-L     │ 1.3배    │
  │ IRG-M     │ 1.1배    │
  │ IRG-H     │ 0.9배    │
  │ IRG-VH    │ 0.7배    │
  └──────────┴──────────┘

Step 3: DSR 역산 한도 (직장인과 동일)

Step 4: 최종 한도
  최종 한도 = MIN(Step 2, Step 3, 상품 최대 한도)

[하한 규칙]
  인정소득 < 연 2,400만원 → 일반 신용대출 불가, 소액론만 허용
```

---

#### FR-LMT-003 — 주택담보대출 한도 [M]

**산출 공식**:

```
LTV 한도 = 담보가치 × LTV 한도율
  ┌──────────────────┬──────────┬─────────────────────┐
  │ 지역 구분         │ 기본 LTV │ 다주택자 추가 하향    │
  ├──────────────────┼──────────┼─────────────────────┤
  │ 일반 지역         │ 70%      │ 2주택 -10%p, 3주택+ -20%p │
  │ 조정대상지역      │ 60%      │ 동일 추가 하향       │
  │ 투기과열지구      │ 40%      │ 3주택+ 원칙 거절      │
  └──────────────────┴──────────┴─────────────────────┘

최종 한도 = MIN(LTV 한도, 스트레스 DSR 역산 한도, DTI 역산 한도)
```

---

### 5.4 금리 산출 (FR-PRC)

#### FR-PRC-001 — 리스크 기반 금리 산출 [M]

**금리 산출 공식**:

```
최종 금리 = 기준금리 + 신용가산금리 + 조달비용 + 운영비용 - 관계거래할인

구성 요소:
  기준금리:      관리자 화면에서 실시간 변경 가능한 동적 파라미터 (배포 불필요)
                 (기본값: 한국은행 기준금리, 현재 3.50%)
  조달비용:      CD91일물 또는 COFIX + 은행 내부 가산금리 (~0.80%)
  운영비용:      신규 심사비용 배분 (~1.50%)
  관계거래할인:  급여이체 -0.20%p / 자동납부 -0.10%p / 장기거래 -0.20%p

등급별 신용가산금리:
  ┌───────┬───────────┬──────────────┐
  │ 등급   │ 신용가산금리 │ 최종금리 예시  │
  ├───────┼───────────┼──────────────┤
  │ AAA   │ +1.0%     │ 약 6.3%      │
  │ AA    │ +1.5%     │ 약 6.8%      │
  │ A     │ +2.5%     │ 약 7.8%      │
  │ BBB   │ +4.0%     │ 약 9.3%      │
  │ BB    │ +6.5%     │ 약 11.8%     │
  │ B     │ +10.0%    │ 약 15.3%     │
  │ CCC   │ +13.5%    │ 약 18.8%     │
  │ CC이하 │ 거절 원칙  │ -            │
  └───────┴───────────┴──────────────┘

EQ 등급별 금리 우대/가산 (직장인):
  EQ-S: -0.50%p  │  EQ-D: +0.50%p
  EQ-A: -0.30%p  │  EQ-E: +1.00%p
  EQ-B: ±0.00%p
```

**합격 기준**:
- 최종 금리 > 20% 건 = 0 (자동 최고금리 상한 적용)
- 최종 금리 < 0% 건 = 0 (음수 금리 방지)
- 기준금리 변경 후 즉시(다음 신청 건부터) 반영 확인
- 등급별 가산금리 단조증가 위반 건 = 0

---

#### FR-PRC-002 — 최고금리 강제 상한 [M]

**설명**: 어떤 경우에도 최종 적용 금리는 대부업법 §8 최고금리(연 20%)를 초과할 수 없다.

**처리 로직**:
```
IF 산출 금리 > 20.00%
  → 적용 금리 = 20.00% (자동 조정)
  → 응답 JSON의 rate_capped_at_max = true
  → 감사 로그에 조정 사실 기록
```

**합격 기준**: 20% 초과 금리 적용 건수 = 0 (10만 건 테스트 기준)

---

### 5.5 규제 준수 로직 (FR-REG)

> **원칙**: 규제 하드컷은 협상 불가. 시스템 차원에서 우회 불가능하도록 구현. 심사관도 하드컷을 재정의할 수 없다.

#### FR-REG-001 — DSR 하드컷 [M] `[은행업감독규정 §79]`

**설명**: 스트레스 DSR이 40%를 초과하는 경우, 시스템은 해당 신청 금액으로 승인하지 않는다.

> **[v1.1 Critical 수정]** 스트레스 DSR은 단계별(Phase 1~3) 적용 대상·가중치·지역 차등이 빈번히 변경되어 왔다.
> 2025.07.01 3단계 시행으로 기본 스트레스 금리 체계가 변경됨.
> 시스템은 정적 수치가 아닌 **규제 파라미터 테이블 기반으로 산식을 관리**해야 하며, 법령 변경 시 코드 배포 없이 5영업일 이내 반영 가능해야 한다. (→ FR-ADM-002 참조)

**스트레스 DSR 산식** (규제 파라미터 테이블에서 동적 조회):

```
스트레스 DSR = (기존 월원리금 + 신청 월원리금_스트레스) / 월소득 × 100

신청 월원리금_스트레스:
  [변동금리 주택담보대출]
    수도권:    신청금리 + stress_rate_metro_housing   (파라미터 테이블 조회)
    비수도권:  신청금리 + stress_rate_nonmetro_housing (파라미터 테이블 조회)
  [변동금리 신용대출 — 잔액 1억 초과 건에만 적용]
    수도권:    신청금리 + stress_rate_metro_credit    (파라미터 테이블 조회)
    비수도권:  신청금리 + stress_rate_nonmetro_credit (파라미터 테이블 조회)
  [고정금리 대출]: 신청금리 그대로 적용

규제 파라미터 테이블 기준값 (Phase별 효력일 관리):
  Phase 2 (2024.02.26~2025.06.30):
    수도권 주택담보대출: +0.75%p, 비수도권: +1.50%p
  Phase 3 (2025.07.01~):
    기본 스트레스 금리: +1.50%p (수도권·비수도권 통합)
    ※ Phase 3 세부 조건(예외·상품별 차등)은 시행령·감독규정 시행 시 파라미터 갱신

처리:
  IF 스트레스 DSR > 40%
    → 한도 역산하여 DSR 40% 충족하는 최대 한도 제시
    → 역산 한도 > 0: 한도 축소 후 제안
    → 역산 한도 ≤ 0: 거절 (사유 코드: DSR_EXCEED)
```

**합격 기준**:
- 스트레스 DSR > 40%인 금액으로 자동 승인된 건수 = 0
- 현행 규제 단계(Phase)에 해당하는 파라미터가 테이블에 효력일과 함께 등록되어 있어야 함
- TC-REG-014에서 현행 Phase의 스트레스 금리 올바른 적용 확인 (효력일 기준)

---

#### FR-REG-002 — LTV 하드컷 [M] `[은행업감독규정 §37]`

**합격 기준**: LTV 한도를 초과하는 금액으로 주담대 승인된 건수 = 0

---

#### FR-REG-003 — 미성년자 자동 거절 [M] `[민법 §5]`

**설명**: 만 19세 미만 신청자는 자동 거절 (사유 코드: UNDERAGE)

**합격 기준**: 만 19세 미만 신청자 자동 승인 건수 = 0

---

#### FR-REG-004 — 개인사업자 세금 체납 자동 거절 [M] `[국세징수법]`

**합격 기준**: 세금 체납 확인 신청자 자동 승인 건수 = 0

---

#### FR-REG-005 — CB 동의 선행 강제 [M] `[신용정보법 §32]`

**설명**: CB 조회 동의가 없는 신청에 대해 모델 평가를 실행하지 않는다. 시스템 레벨에서 강제 차단한다.

**합격 기준**: CB 동의 미확인 상태에서 모델 추론이 실행된 건수 = 0

---

#### FR-REG-006 — 다주택자 LTV 추가 하향 [M] `[금감원 특별 관리]`

**설명**: 보유 주택 수에 따라 LTV 한도를 추가 하향한다.

| 보유 주택 수 | 추가 하향 |
|-----------|---------|
| 1채 | 해당 없음 (기본 LTV 적용) |
| 2채 | -10%p 추가 하향 |
| 3채 이상 | -20%p 추가 하향 (투기지역은 원칙 거절) |

---

#### FR-REG-007 — 개인사업자 사업 기간 하드컷 [M]

| 업종 리스크 등급 | 최소 사업 기간 |
|--------------|------------|
| IRG-L / IRG-M | 12개월 이상 |
| IRG-H | 24개월 이상 |
| IRG-VH | 36개월 이상 (수동 심사 필수) |

---

### 5.6 설명의무 및 고객 고지 (FR-EXP)

#### FR-EXP-001 — 거절 사유 3개 의무 고지 [M] `[금융소비자보호법 §47]`

**설명**: 자동 거절 및 심사관 거절 시, 거절에 기여한 주요 사유 3개를 한국어로 고객에게 제공해야 한다.

**사유 생성 규칙**:
1. 하드컷 트리거 시: 해당 규제 사유가 1순위 (예: "총부채원리금상환비율(DSR)이 기준(40%)을 초과하여 신청 금액으로 승인이 어렵습니다.")
2. 모델 기반 거절 시: SHAP Top-3 변수 → 한국어 문장 변환 (FR-SCR-004 준용)

**고지 채널**: 화면 표시 + SMS/이메일 발송 + 감사 로그 기록

**합격 기준**:
- 거절 건 중 사유 3개 미고지 건수 = 0
- 고지 내용 감사 로그 누락 건수 = 0

---

#### FR-EXP-002 — 고객 유리 원칙 설명 [S]

**설명**: 거절 시 신청자가 향후 승인받을 수 있는 개선 방향을 안내한다.

예시: "DSR 초과로 거절되었으나, 기존 대출 일부 상환 시 최대 {역산 한도}원까지 승인 가능합니다."

---

#### FR-EXP-003 — 자동화평가 설명 요구권 대응 [M] `[v1.1 신규 — C3 Critical, 신용정보법 §39의5]` `[인공지능기본법 고위험 AI]`

**설명**: 자동화평가(신용평가 시스템)로 불리한 결정(거절·한도 축소·금리 가산)을 받은 고객은 평가 결과·기준·기초정보에 대한 설명을 요구할 수 있다. 시스템은 이 요구에 응답할 수 있는 구조를 갖춰야 한다.

**설명 제공 범위**:

| 고객 요구 항목 | 시스템 제공 정보 |
|------------|--------------|
| 평가 결과 | 신용점수·등급·결정(승인/거절/한도) |
| 평가 기준 | 사용된 모델 유형, 주요 판단 기준 개요 |
| 주요 기초정보 | SHAP Top-5 변수명(한국어)·영향도 |
| 하드컷 적용 여부 | 적용된 규제 조항 및 사유 코드 |

**운영 프로세스**:
```
고객 설명 요구 접수 (영업점·앱·서면)
  → 접수 일시 기록, 처리 기한 산정 (10영업일)
  → 해당 평가 건 감사 로그에서 설명 데이터 자동 추출
  → 표준 설명서 생성 (자동) → 담당자 검토 (수동)
  → 고객 응답 발송 (서면 또는 전자)
  → 처리 완료 이력 감사 로그 기록
```

**합격 기준**:
- 설명 요구 처리기한 준수율 100% (10영업일 이내)
- 과거 5년 이내 평가 건에 대한 설명 데이터 조회 가능 100%
- 설명서 자동 생성 성공률 ≥ 99%

---

#### FR-EXP-004 — 자동화평가 이의제기·재산출 요청 처리 [M] `[v1.1 신규 — C3 Critical, 신용정보법 §39의5]`

**설명**: 고객은 자동화평가 결과에 이의를 제기하거나, 기초정보 정정 후 재산출을 요청할 수 있다. 시스템은 이의제기 접수부터 처리 완료까지 추적 가능한 워크플로우를 지원해야 한다.

**이의제기 유형 및 처리**:

| 유형 | 처리 방법 | 처리 기한 |
|------|---------|---------|
| 기초정보 오류 주장 (CB 오류 등) | CB 재조회 또는 증빙서류 수령 후 재산출 | 10영업일 |
| 평가 결과 부당 주장 | 심사관 수동 검토 + 필요 시 리스크팀 에스컬레이션 | 10영업일 |
| 소득 증빙 추가 제출 | 심사관 검토 후 소득 인정액 재산정, 재평가 | 5영업일 |

**재산출 처리 흐름**:
```
이의제기 접수
  → 접수 번호 부여, 기한 카운트 시작
  → 사유 분류: WRONG_CB_DATA / WRONG_INCOME / OTHER
  → WRONG_CB_DATA: CB 재조회 → 차이 확인 → 재산출 자동 실행
  → 기타: 심사관 할당 → 수동 검토
  → 재산출 결과 고객 통보 (개선 여부 무관)
  → 처리 결과 감사 로그 기록 (이의제기 전·후 점수·결정 비교)
```

**합격 기준**:
- 이의제기 접수 건수 대비 기한 내 처리율 100%
- 재산출 실행 건의 이전·이후 비교 감사 로그 자동 생성 100%
- 이의제기 처리 결과 고객 통보 누락 = 0

---

### 5.7 동의 관리 (FR-CNS)

#### FR-CNS-001 — CB 정보 조회 동의 [M] `[신용정보법 §32]`

**설명**: 신용정보 조회 동의는 신청 접수 시 전자 서명 방식으로 취득하며, 동의 내용·일시·방법을 기록한다.

**필수 기록 항목**:
- 동의 취득 일시 (ms 단위)
- 동의 방법 (전자서명/SMS인증/ARS)
- 동의한 정보 항목 목록
- 동의 유효 기간 (최대 1년)

**CB 조회 실패 처리**:
```
CB 조회 요청
  → 성공: 정상 평가 진행
  → 실패 1차: 1초 후 재시도
  → 실패 2차: 1초 후 재시도
  → 실패 3차: 수동 심사 이관 (사유: CB_QUERY_FAILED)
              고객 SMS 발송: "CB 조회 지연으로 담당자가 2영업일 이내 연락 예정"
※ CB 조회 없이 자동 모델 평가 실행 절대 불가
```

---

#### FR-CNS-002 — 대안 데이터 활용 동의 [S]

**설명**: 통신비 납부 이력, 건강보험료 이력, 국민연금 이력 등 대안 데이터 활용 시 별도 동의를 취득한다. 미동의 시 해당 변수 제외 후 평가 (불이익 없음을 명시).

---

### 5.8 심사 워크플로우 (FR-WF)

#### FR-WF-001 — 신청 상태 관리 [M]

**상태 전이 정의**:

```
RECEIVED (접수)
  → AUTO_APPROVED (자동 승인): 하드컷 통과 + 점수 ≥ 500 (CC 이상)
  → PENDING_REVIEW (수동심사 대기): 430 ≤ 점수 < 500 (C등급)
  → AUTO_REJECTED (자동 거절): 하드컷 실패 OR 점수 < 430 (D등급)
  → ON_HOLD (보류): CB 조회 실패, 서류 미비

PENDING_REVIEW
  → APPROVED (승인): 심사관 최종 승인
  → REJECTED (거절): 심사관 최종 거절
  → ESCALATED (상위 승인): 한도/권한 초과 건

AUTO_APPROVED / APPROVED
  → EXECUTED (대출 실행): CBS 연동 완료
  → CANCELLED (취소): 고객 취소 요청

※ 취소 이외의 역방향 전이 불가 (예: REJECTED → APPROVED 직접 전이 불가)
```

---

#### FR-WF-002 — 수동 심사 SLA [M]

| 구분 | 처리 기한 | 초과 시 |
|------|---------|-------|
| 일반 수동 심사 | 2영업일 | 담당 팀장 자동 알림 |
| 긴급 처리 요청 건 | 4시간 | 즉시 에스컬레이션 |
| 고액 대출 (5억 이상) | 여신심사위원회 회부, 5영업일 | 위원회 일정 자동 등록 |

---

#### FR-WF-003 — 심사관 권한 한도 [M]

| 역할 | 승인 가능 최대 금액 | 초과 시 |
|------|-----------------|-------|
| 일반 심사관 | 1억원 | 팀장 승인 요청 |
| 시니어 심사관 | 3억원 | 팀장 승인 요청 |
| 여신 팀장 | 5억원 | 여신심사위원회 회부 |
| 여신심사위원회 | 제한 없음 | - |

---

### 5.9 고용주 등급 관리 (FR-EQ)

#### FR-EQ-001 — 고용주 등급(EQ Grade) 자동 조회 [M]

**EQ Grade 정의**:

| 등급 | 대상 | 한도 배수 | 금리 우대 |
|------|------|---------|---------|
| EQ-S | 공무원·군인·공기업·KOSPI 대형 50사 | 2.0배 | -0.5%p |
| EQ-A | KOSPI 상장사·준정부기관·국가직 | 1.7배 | -0.3%p |
| EQ-B | KOSDAQ·면허직(의사/변호사 등)·사립교원 | 1.5배 | ±0.0%p |
| EQ-C | 비상장 중소기업 정규직 (고용보험 12M+) | 1.2배 | ±0.0%p |
| EQ-D | 10인 미만 사업체·계약직·파견직 | 0.9배 | +0.5%p |
| EQ-E | 일용직·확인 불가·수습 3M 미만 | 0.7배 | +1.0%p |

**자동 조회 순서**:
1. 내부 EQ 등급 DB 조회 (갱신일로부터 6개월 이내)
2. 외부 기업신용정보 API (NICE/KED) 조회
3. 금감원 DART 상장 여부 확인
4. 공공기관 알리오 DB 확인
5. 미확인 → EQ-D 기본 적용 + 수동 조정 가능 플래그

**합격 기준**:
- 외부 API 조회 성공률 > 95%
- 조회 실패 시 EQ-D 자동 적용 100%
- 등급 갱신 주기 6개월 준수 (만료 건 자동 재조회 트리거)

---

#### FR-EQ-002 — 고용주 폐업·도산 이벤트 처리 [M]

**설명**: 기존 대출 고객의 고용주 폐업·도산 확인 시 즉시 EQ 등급을 강등하고 Behavioral Score를 재산출한다.

**이벤트 감지 방법**: 기업신용정보 API 일별 변경 이력 조회 (배치)

**처리 흐름**:
```
폐업/도산 확인
  → 해당 고용주 EQ Grade = EQ-D로 즉시 강등 (임시)
  → 해당 고용주 소속 기존 대출 고객 목록 추출
  → Behavioral Score 긴급 재산출 (D+1 영업일)
  → 리스크팀 자동 알림 (고용주명, 영향 고객 수, 총 여신 잔액)
```

---

#### FR-EQ-003 — 동일 고용주 집중 리스크 한도 [S]

**설명**: 단일 고용주 소속 임직원 대출 합계가 전체 신용대출 잔액의 5%를 초과하면 경보를 발령한다.

---

### 5.10 업종 리스크 관리 (FR-IRG)

#### FR-IRG-001 — 업종 리스크 등급(IRG) 자동 매핑 [M]

**IRG Grade 정의**:

| 등급 | 대상 업종 (KSIC 기준) | PD 조정 | 한도 배수 |
|------|-------------------|--------|---------|
| IRG-L | 의료·교육·공공서비스·필수소비재 | -10% | 1.3배 |
| IRG-M | 소매업(식음료 제외)·IT서비스·제조업 | 기본 | 1.1배 |
| IRG-H | 음식점·숙박·오락·부동산중개·건설도급 | +20% | 0.9배 |
| IRG-VH | 유흥업·사행성·소규모 건설 하도급 | +40% | 0.7배 |

**합격 기준**:
- KSIC 전체 코드 커버리지 100% (미정의 코드 → IRG-M 기본 적용 + 관리자 알림)
- IRG 테이블은 관리자 화면에서 배포 없이 수정 가능 (분기별 갱신)

---

#### FR-IRG-002 — 매출 급감 경보 하드컷 [M]

| 전년 대비 매출 감소율 | 처리 |
|------------------|-----|
| 0% ~ -29% | 정상 평가 |
| -30% ~ -49% | 수동 심사 필수 |
| -50% 이상 | 거절 원칙 (수동 심사 예외 허용, 팀장 이상 승인) |

---

### 5.11 모델 관리 (FR-MDL)

#### FR-MDL-001 — 챔피언-챌린저 Shadow 운영 [M]

**설명**: 신규 모델 검증 시 Shadow 방식으로 운영한다. 실제 고객 결정에는 챔피언 모델만 사용하고, 챌린저 모델 결과는 내부 DB에만 저장한다.

**운영 흐름**:

```
모든 신청 건
  → 챔피언 모델 실행 → 실제 승인/거절 결정 (고객 전달)
  → 챌린저 모델 실행 → challenger_scores 테이블에만 기록 (고객 비노출)

Shadow 기간 완료 후:
  → 리스크팀이 성과 비교 대시보드 확인
  → 챌린저 OOT Gini ≥ 챔피언 + 0.02 AND p-value < 0.05
  → 리스크관리위원회 승인
  → 챔피언 교체 (롤백 기능 포함, 이전 버전 3개 유지)
```

**합격 기준**:
- Shadow 기간 중 챌린저 결과가 고객에게 노출된 건수 = 0
- 챔피언 교체 후 30초 이내 롤백 가능 여부 확인

---

#### FR-MDL-002 — 모델 교체 배포 없이 가능 [M]

**설명**: 새로운 모델 파일(pkl)을 관리자 화면에서 업로드하면 코드 배포 없이 즉시 적용 가능해야 한다.

---

#### FR-MDL-003 — 모델 재학습 트리거 자동 감지 [M]

**트리거 조건 및 처리**:

| 조건 | 처리 |
|------|------|
| Score PSI ≥ 0.20 | 리스크팀 + 모델 개발팀 즉시 알림, 재학습 검토 요청 |
| Score PSI 0.10~0.19 | 리스크팀 경고 알림, 모니터링 강화 |
| OOT Gini < 0.30 | 리스크팀 긴급 알림, 모델 재검증 의무화 |
| Target PSI (부도율 ±2.5%p) | 리스크팀 경보, 경기 환경 변화 점검 |

---

### 5.12 모니터링 및 경보 (FR-MON)

#### FR-MON-001 — 실시간 운영 대시보드 [M]

**갱신 주기 및 지표**:

| 갱신 주기 | 지표 |
|---------|-----|
| 실시간 (30초) | API 응답 시간 (P50/P95/P99), 에러율, 처리 건수/분 |
| 5분 | 승인율/거절율/수동심사율, CB 조회 성공률 |
| 일별 | 등급별 신청·승인 분포, 평균 DSR, 평균 대출금액 |
| 월별 | Score PSI, Feature PSI, Target PSI, RAROC 추이 |

#### FR-MON-002 — PSI 3종 모니터링 [M]

| PSI 종류 | 측정 대상 | 경보 임계값 |
|---------|---------|-----------|
| Score PSI | 모델 예측 확률(PD) 분포 | 0.10 (경고), 0.20 (위험) |
| Feature PSI | 상위 IV 피처 분포 (cb_score, dsr_ratio 등) | 0.10 (경고), 0.20 (위험) |
| Target PSI | 실제 부도율 변화 | 월 ±2.5%p 이탈 시 경보 |

**[v1.1 추가] PSI 경보 대응 SLA**:

| 경보 수준 | 대응 기한 | 요구 조치 |
|---------|---------|---------|
| Score PSI 경고 (0.10~0.19) | 10영업일 이내 RCA 완료 | 원인 보고서 제출, 모니터링 강화 |
| Score PSI 위험 (≥ 0.20) | 5영업일 이내 RCA + 재학습 착수 결정 | 리스크관리위원회 보고 |
| Feature PSI 경고/위험 | Score PSI와 동일 | 피처 드리프트 원인별 대응 룰북 적용 |
| Target PSI 이탈 | 10영업일 이내 경기 분석 | 거시경제 리포트 + 포트폴리오 재조정 검토 |

**합격 기준**: PSI 경보 후 RCA 완료율 100% (SLA 이내)

#### FR-MON-003 — RAROC 포트폴리오 모니터링 [M]

**월별 자동 계산 항목**:

```
포트폴리오 RAROC = (이자수익 - 조달비용 - 운영비용 - 기대손실) / 경제자본

기대손실(EL) 산출:
  EL = PD × LGD × EAD

EAD 산출 (상품유형별):
  [만기 일시상환·원리금균등 대출]: EAD = 대출 잔액
  [한도대출·마이너스통장]:        EAD = 잔액 + CCF × 미사용 한도
    CCF 기본값: 50% (관리자 파라미터 테이블에서 상품별 관리)
  [신용카드 한도]: 별도 정의 (Phase 2)

경제자본 산출:
  무담보 신용대출: EAD × 75%(RW) × 8%(BIS) = EAD × 6.0%
  주택담보대출:    EAD × 35%(RW) × 8%(BIS) = EAD × 2.8%
  소액마이크로론:  EAD × 100%(RW) × 8%(BIS) = EAD × 8.0%

모니터링 임계값:
  RAROC < 12% (허들레이트): 리스크팀 + 여신총괄 알림
  RAROC < 8%: 경영진 보고 의무화
```

---

#### FR-MON-004 — 빈티지/코호트 분석 모니터링 [M] `[v1.1 신규 — I2 Important 반영]`

**설명**: 동일 시점 실행(코호트) 기준으로 시간 경과에 따른 연체·부도율을 추적하여 모델의 실제 예측력과 포트폴리오 건전성을 조기 감지한다.

> **설계 원칙**: 빈티지 분석은 PSI·AUC보다 실제 손실 현실화에 더 빠르게 반응하므로, 운영 KPI 1순위로 관리한다.

**필수 추적 지표**:

```
빈티지 분석 (월별 코호트 기준):
  3개월 DPD30+: 실행 후 3개월 기준 30일 이상 연체 누적률
  6개월 DPD30+: 실행 후 6개월 기준
  12개월 DPD30+: 실행 후 12개월 기준

코호트 분해:
  - 전체 포트폴리오
  - 등급별 (AAA~D)
  - 상품별 (신용대출/주담대/소액론)
  - 신청자 유형별 (Track-S/B/P)
  - EQ Grade별 (EQ-S~E)
  - IRG Grade별 (IRG-L~VH)

롤레이트(Roll-Rate) 매트릭스 (월별):
  현재 상태 × 1개월 후 상태 (정상/30일/60일/90일+/부도)
```

**경보 임계값**:

| 지표 | 경고 | 위험 |
|------|------|------|
| 3개월 DPD30+ | 기준 코호트 대비 +20% | +40% |
| 12개월 DPD30+ | 예측 부도율 대비 +1.5%p | +3.0%p |

**산출물**: 월별 빈티지 커브 차트, 롤레이트 히트맵, 조기경보 보고서 자동 생성

**합격 기준**:
- 월별 빈티지 리포트 자동 발행률 100%
- 등급별 부도율 단조성 위반 감지 즉시 경보
- 과거 24개월 빈티지 데이터 조회 가능

---

#### FR-MON-005 — 칼리브레이션 모니터링 [M] `[v1.1 신규 — I1 Important 반영]`

**설명**: 모델이 예측하는 확률(PD)이 실제 부도율과 체계적으로 일치하는지 확인한다. 칼리브레이션 오류는 한도·금리·충당금 산출의 정확성을 훼손한다.

> **Gini(AUC)와의 차이**: Gini는 순위만 맞으면 높아지지만, 칼리브레이션은 "예측 10% → 실제 10%인가"를 검증한다. 두 지표는 독립적으로 관리해야 한다.

**측정 지표 및 주기**:

| 지표 | 설명 | 임계값 | 측정 주기 |
|------|------|--------|---------|
| Brier Score | 확률 예측의 평균 제곱오차. 낮을수록 우수 | 기준선 대비 개선 (or ≤ 0.07) | 분기 |
| ECE | 10분위 예측확률과 실제 부도율 편차의 가중 평균 | ≤ 0.02 | 분기 |
| Reliability Diagram | 10분위 예측확률 vs 실제 부도율 시각화 | 대각선 ±5%p 이내 | 분기 |
| 과대신뢰(Overconfidence) | 예측 PD가 실제보다 낮은 분위 수 | 상위 3분위 중 2개 이상 과대신뢰 시 경보 | 분기 |

**합격 기준**:
- 분기별 칼리브레이션 보고서 자동 생성 100%
- ECE > 0.02 발생 시 모델팀 자동 알림 + 60일 이내 보정 계획 수립

---

### 5.13 보고서 자동 생성 (FR-RPT)

#### FR-RPT-001 — 감독당국 제출 보고서 4종 자동 생성 [M]

| 보고서 | 제출 대상 | 주기 | 생성 트리거 |
|--------|---------|------|----------|
| 모델 검증 보고서 | 금융감독원 | 연 1회 | 검증 테스트 전체 통과 후 |
| 공정성 평가 보고서 | 금융위원회 | 연 1회 | AI 가이드라인 검증 완료 후 |
| 데이터 거버넌스 보고서 | 내부감사 | 반기 | 자동 스케줄 |
| 리스크-수익성 보고서 | 리스크관리위원회 | 분기 | 자동 스케줄 |

**합격 기준**:
- 보고서 생성 실패율 0%
- 생성 후 담당자 이메일 자동 발송 확인
- 보고서 내 수치가 DB 집계값과 일치 (±0.01% 허용)

---

### 5.14 관리자 기능 (FR-ADM)

#### FR-ADM-001 — 규제 파라미터 실시간 변경 [M]

다음 파라미터는 배포 없이 관리자 화면에서 즉시 변경 가능해야 한다:

| 파라미터 | 변경 권한 | 적용 시점 |
|---------|---------|---------|
| 기준금리 | 여신총괄 승인 | 즉시 (다음 신청 건부터) |
| DSR/LTV 한도 | 컴플라이언스 + 여신총괄 | 즉시 |
| 등급별 신용가산금리 | 리스크팀 + 여신총괄 | 즉시 |
| EQ/IRG 등급별 한도 배수 | 리스크팀 | 즉시 |
| IRG 테이블 (KSIC 매핑) | 리스크팀 | 즉시 |
| 수동 심사 점수 범위 | 여신총괄 | 즉시 |

**합격 기준**:
- 파라미터 변경 후 즉시 다음 신청 건에 반영 확인
- 변경 이력 전체 감사 로그 기록 (변경 전·후 값, 변경자, 일시)
- 파라미터 변경은 해당 권한 역할만 가능 (RBAC 적용)

---

#### FR-ADM-002 — 규제 파라미터 버전·효력일 관리 [M] `[v1.1 신규 — C2 Critical 반영]`

**설명**: 규제 파라미터는 단순 현재 값 관리가 아닌, **버전·효력일·적용 조건(상품/지역/금리유형)** 을 포함한 이력 테이블로 관리해야 한다. 법령 변경 시 사전 등록 후 효력일에 자동 전환된다.

**규제 파라미터 테이블 구조**:

```
regulation_params (이력 테이블)
  param_key       VARCHAR(50)   -- e.g., 'stress_dsr_rate_metro_housing'
  param_value     DECIMAL(8,4)  -- e.g., 0.0150
  phase_label     VARCHAR(20)   -- e.g., 'phase3'
  effective_from  DATE          -- 효력 시작일
  effective_to    DATE          -- 효력 종료일 (NULL = 현재 유효)
  condition_json  JSONB         -- 적용 조건 (상품, 금리유형, 지역 등)
  approved_by     VARCHAR(100)  -- 승인자
  approved_at     TIMESTAMP
  created_by      VARCHAR(100)
```

**자동 전환 처리**:
```
매일 00:01 스케줄러 실행
  → effective_from = 오늘인 파라미터 → 현행 파라미터로 활성화
  → 전일 현행 파라미터 → effective_to 자동 마감
  → 전환 이벤트 감사 로그 기록
  → 리스크팀 이메일 알림 발송
```

**골든케이스 회귀테스트**:
- 규제 단계 전환 시, 파라미터 변경 전 CI 파이프라인에서 **골든케이스 테스트 자동 실행**
- 골든케이스: 각 Phase별 기준 케이스 최소 20건 (TC-REG-014 포함)
- 테스트 실패 시 파라미터 활성화 차단 + 관리자 알림

**합격 기준**:
- 효력일 자동 전환 실패 건수 = 0
- 규제 변경 파라미터 반영 리드타임 ≤ 5영업일 (법령 공포 후)
- 골든케이스 테스트 커버리지 ≥ 95% (각 Phase별 기준 케이스 대비)
- 과거 효력 파라미터 조회 가능 (감사 목적)

---

## 6. 비기능 요건 (NFR)

### 6.1 성능 요건

| 요건 ID | 항목 | 목표값 | 측정 조건 |
|---------|------|--------|---------|
| NFR-PERF-001 | 신용평가 API P50 | ≤ 200ms | 100 TPS, 운영 사양 |
| NFR-PERF-002 | 신용평가 API P95 | ≤ 500ms | 200 TPS (최대 부하) |
| NFR-PERF-003 | 신용평가 API P99 | ≤ 1,000ms | 200 TPS |
| NFR-PERF-004 | API 에러율 | < 0.1% | 200 TPS 연속 30분 |
| NFR-PERF-005 | 행동평점 배치 | 전체 기존 고객 5시간 이내 완료 | 야간 배치 창 (00:00~05:00) |
| NFR-PERF-006 | DB 조회 응답 | ≤ 50ms (P95) | 단일 PK 조회 기준 |
| NFR-PERF-007 | 감사 로그 Kafka 발행 | ≤ 10ms | 비동기 큐 발행 기준 |

> **주의**: 성능 테스트는 반드시 운영 동일 사양에서 측정. 개발 환경 결과는 불인정.

### 6.2 가용성 요건

| 요건 ID | 항목 | 목표값 |
|---------|------|--------|
| NFR-AVAIL-001 | 신용평가 API 가용성 | ≥ 99.9% (월 다운타임 ≤ 43.8분) |
| NFR-AVAIL-002 | 계획 유지보수 | 월 1회 이내, 심야 (02:00~04:00), 사전 5영업일 공지 |
| NFR-AVAIL-003 | 단일 장애점 | 없음 (모든 주요 컴포넌트 이중화) |
| NFR-AVAIL-004 | DR 전환 시간 | RTO ≤ 4시간, RPO ≤ 1시간 |

### 6.3 보안 요건

| 요건 ID | 항목 | 기준 |
|---------|------|------|
| NFR-SEC-001 | 전송 암호화 | TLS 1.3 이상 (모든 외부 통신) |
| NFR-SEC-002 | 주민번호 저장 | HMAC-SHA256 + 기관 고정 Salt 해시값만 저장. Salt(키)는 HSM 또는 KMS에서 관리 (평문 코드 내 하드코딩 금지) |
| NFR-SEC-003 | 계좌번호 저장 | AES-256-GCM 암호화. 암호키는 KMS 관리 |
| NFR-SEC-004 | API 인증 | JWT (RS256, 만료 30분) + Refresh Token |
| NFR-SEC-005 | RBAC | 역할별 API 엔드포인트 접근 제어 (6개 역할: teller/reviewer/risk_manager/auditor/it_admin/head_of_lending) |
| NFR-SEC-006 | Rate Limiting | IP당 분당 60 요청, 초과 시 429 반환 |
| NFR-SEC-007 | OWASP Top 10 | Critical/High 취약점 0건 (제3자 보안 진단) |
| NFR-SEC-008 | 접근 로그 | 모든 API 호출 로그 90일 보관, 개인정보 컬럼 조회는 전수 기록 |
| NFR-SEC-009 | 관리자 접속 | MFA (다중 인증) 필수 |
| NFR-SEC-010 | 암호키 관리체계 | HSM 또는 KMS 통한 키 생성·저장·회전 (v1.1 신규 — I3) |
| NFR-SEC-011 | ISMS-P 준거 | 금융보안원 ISMS-P 인증기준 준수 (정보보호 관리체계·개인정보처리 단계별 요구사항) (v1.1 신규 — M3) |

**[v1.1 추가] NFR-SEC-010 세부 요건** (암호키 관리체계):

```
키 관리 요건:
  1. HMAC-SHA256 키(Salt): HSM 또는 소프트웨어 KMS에서 생성·저장
  2. AES-256 키: 동일 KMS에서 관리, 데이터 암호화키(DEK)와 마스터키(KEK) 분리
  3. 키 회전: 연 1회 이상 (보안 사고 시 즉시 회전)
  4. 키 접근 로그: 키 조회·사용·회전 이력 전수 기록
  5. 키 복구: 이중화된 키 백업 절차 보유 (DR 사이트 포함)
  6. 개발·운영 환경 분리: 운영 키가 개발 환경에 노출 금지
```

**합격 기준 (NFR-SEC-010)**:
- 운영 키가 소스 코드·설정 파일에 평문 노출된 건수 = 0
- 키 회전 후 이전 키로 암호화된 데이터 정상 복호화 확인
- TC-SEC-002: 로그·API 응답·DB에서 주민번호 평문 0건

### 6.4 확장성 요건

| 요건 ID | 항목 | 기준 |
|---------|------|------|
| NFR-SCALE-001 | 수평 확장 | API 서버 무중단 수평 확장 가능 (컨테이너 기반) |
| NFR-SCALE-002 | 모델 확장 | 새로운 Scorecard 추가 시 기존 코드 수정 최소화 |
| NFR-SCALE-003 | 파라미터 확장 | 신규 규제 파라미터 추가 시 배포 없이 가능 |

---

## 7. 데이터 요건 (DR)

### 7.1 핵심 데이터 모델

#### 신청자 (Applicants) 테이블 주요 필드

| 필드명 | 타입 | 설명 | 개인정보 처리 |
|--------|------|------|-------------|
| id | UUID | PK | - |
| applicant_type | VARCHAR(30) | Track-S/B/P/F | - |
| resident_registration_hash | CHAR(64) | 주민번호 HMAC-SHA256 | 해시만 저장 |
| name_masked | VARCHAR(10) | "홍*동" 형태 | 가명처리 |
| age | INTEGER | 나이 | - |
| age_band | VARCHAR(10) | 20s/30s/40s/50s/60+ | 구간화 |
| employment_type | VARCHAR(20) | regular/contract/dispatch/daily | - |
| employment_duration_months | INTEGER | 현 직장 근속월수 | - |
| employer_registration_no | VARCHAR(20) | 고용주 사업자번호 | - |
| employer_eq_grade | VARCHAR(5) | EQ-S/A/B/C/D/E | - |
| employer_eq_updated_at | TIMESTAMP | EQ 등급 갱신일 | - |
| occupation_code | VARCHAR(10) | KECO 직종 코드 | - |
| occupation_stability_index | DECIMAL(4,2) | OSI 점수 | - |
| income_annual | DECIMAL(15,2) | 연소득 (원) | - |
| income_verified | BOOLEAN | 소득 검증 여부 | - |
| income_recognition_method | VARCHAR(30) | tax_return/vat/account/self_report | - |
| income_recognition_reliability | DECIMAL(3,2) | 신뢰도 계수 0.70~1.00 | - |
| business_registration_no | VARCHAR(20) | 사업자등록번호 (개인사업자) | - |
| business_age_months | INTEGER | 사업 기간 (월) | - |
| industry_code_ksic | VARCHAR(10) | 한국표준산업분류 코드 | - |
| industry_risk_grade | VARCHAR(10) | IRG-L/M/H/VH | - |
| annual_revenue_recent | DECIMAL(15,2) | 최근 연매출 (원) | - |
| annual_revenue_prior | DECIMAL(15,2) | 전년 연매출 (원) | - |
| revenue_growth_rate | DECIMAL(6,4) | 매출 증가율 | - |
| has_tax_delinquency | BOOLEAN | 세금 체납 여부 | - |
| cb_consent_granted | BOOLEAN | CB 동의 여부 | 동의 증적 |
| cb_consent_date | TIMESTAMP | CB 동의 일시 | - |
| created_at | TIMESTAMP | 생성일시 | - |
| updated_at | TIMESTAMP | 수정일시 | - |

#### 대출 신청 (Loan_Applications) 테이블 주요 추가 필드

| 필드명 | 타입 | 설명 |
|--------|------|------|
| owned_property_count | INTEGER | 보유 주택 수 (LTV 차등 적용) |
| stress_dsr_region | VARCHAR(20) | metropolitan/non_metropolitan |
| stress_dsr_rate_applied | DECIMAL(5,4) | 적용된 스트레스 가산금리 |
| eq_grade_applied | VARCHAR(5) | 최종 적용 EQ 등급 |
| irg_applied | VARCHAR(10) | 최종 적용 IRG 등급 |
| income_recognition_method_applied | VARCHAR(30) | 한도 산출 시 적용된 소득 검증 방법 |
| shadow_challenger_score | INTEGER | 챌린저 모델 점수 (내부용) |
| shadow_challenger_decision | VARCHAR(20) | 챌린저 모델 결정 (내부용) |

### 7.2 데이터 보존 정책

| 데이터 종류 | 보존 기간 | 파기 방법 | 근거 |
|-----------|---------|---------|------|
| 신용평가 결과 | 5년 | 완전 삭제 | 신용정보법 §20의2 |
| 감사 로그 | 5년 | 완전 삭제 | 신용정보법 §20의2 |
| CB 조회 원본 데이터 | 조회 후 즉시 삭제 (결과만 보관) | - | 개인정보 최소 수집 원칙 |
| 동의 증적 | 동의 기간 + 5년 | 완전 삭제 | 전자서명법 |
| 모델 아티팩트 | 현행 + 직전 3버전 | - | 내부 기준 |

### 7.3 개인정보 처리 기준

```
[처리 원칙]
1. 주민번호:     HMAC-SHA256(주민번호, SECRET_KEY) 해시만 저장
                 SECRET_KEY는 HSM 또는 환경변수 관리, 외부 노출 금지
2. 성명:         "홍*동" 형태 마스킹 (가운데 글자 마스킹)
3. 주소:         시/군/구 수준까지만 저장 (도로명 주소 불가)
4. 계좌번호:     AES-256 암호화 저장
5. CB 조회 원본: 메모리 처리 후 즉시 폐기, DB 미저장

[접근 제어]
- 개인정보 컬럼 조회 로그 전수 기록
- DBA도 평문 주민번호 조회 불가 구조 설계
```

---

## 8. 인터페이스 요건 (IR)

### 8.1 내부 REST API 주요 엔드포인트

| 메서드 | 엔드포인트 | 설명 | 권한 |
|--------|----------|------|------|
| POST | /api/v1/score | 신용평가 실행 | 영업점·심사관 |
| GET | /api/v1/applications/{id} | 신청 건 조회 | 영업점·심사관 |
| PATCH | /api/v1/applications/{id}/review | 수동 심사 결정 입력 | 심사관 |
| GET | /api/v1/monitoring/psi | PSI 현황 조회 | 리스크팀 |
| GET | /api/v1/monitoring/portfolio | 포트폴리오 RAROC | 리스크팀·여신총괄 |
| GET | /api/v1/audit/logs | 감사 로그 조회 | 내부감사팀 |
| POST | /api/v1/admin/model/upload | 모델 파일 업로드 | IT관리자 |
| PUT | /api/v1/admin/params | 규제 파라미터 변경 | 여신총괄·컴플라이언스 |
| GET | /api/v1/reports/generate | 보고서 생성 트리거 | 리스크팀·IT관리자 |

### 8.2 CB 연동 인터페이스 요건

| 항목 | 요건 |
|------|------|
| 연동 방식 | REST API (TLS 1.3 암호화 전용 회선 우선) |
| 조회 결과 항목 | 신용점수, 등급, 연체이력(24M), 대출 현황, 조회이력, 최악연체 |
| 응답 시간 | P95 ≤ 300ms |
| 실패 처리 | 최대 3회 재시도 (1초 간격), 이후 수동심사 이관 |
| 조회 로그 | 조회 일시, 목적, 동의 번호 기록 (신용정보법 준수) |

### 8.3 CBS 연동 인터페이스 요건

| 항목 | 요건 |
|------|------|
| 필요 데이터 | 기존 대출 월 원리금, 보유 계좌 수, 급여이체 여부 |
| 연동 주기 | 실시간 (신청 시 최신 정보 조회) |
| 실패 처리 | 재시도 3회 후 최종 실패 시 기존 정보(캐시) 사용 + 경보 |

---

## 9. 테스트 요건 (TR)

### 9.1 테스트 전략 및 주체 분리

> **원칙**: 규제 준수 테스트와 UAT는 은행(발주처)이 주도. SI 업체 자체 검증 결과는 참고만 함.

| 테스트 단계 | 주체 | 합격 판정 권한 |
|-----------|------|-------------|
| 단위 테스트 | SI 업체 | SI 업체 (커버리지 80% 이상 증빙 제출) |
| 통합 테스트 | SI 업체 주관, 은행 IT 확인 | 은행 IT팀 |
| 규제 준수 테스트 | **은행 컴플라이언스팀 주관** | 컴플라이언스 팀장 |
| 성능 테스트 | SI 업체 + 은행 IT | 은행 IT팀 |
| 보안 취약점 테스트 | **제3자 보안 전문기관** | 은행 IT 보안팀 |
| UAT | **현업 (영업점·심사팀) 주관** | 현업 팀장 서명 |

### 9.2 규제 준수 테스트 케이스

| 테스트 ID | 테스트 항목 | 입력 | 기대 결과 | 합격 기준 |
|---------|-----------|------|---------|---------|
| TC-REG-001 | DSR 39.9% | 신청금액 → DSR=39.9% | 승인 프로세스 진행 | 100% |
| TC-REG-002 | DSR 40.0% | 신청금액 → DSR=40.0% | 거절 또는 한도 축소 | 100% |
| TC-REG-003 | DSR 40.1% | 신청금액 → DSR=40.1% | 거절 또는 한도 축소 | 100% |
| TC-REG-004 | DSR 80.0% | 극단값 | 거절 | 100% |
| TC-REG-005 | 소득 0원 | 분모=0 케이스 | 오류 처리, 수동심사 이관 | 100% |
| TC-REG-006 | LTV 초과 | 담보가치 3억, 신청 2.5억 (83%) | 거절 (LTV_EXCEED) | 100% |
| TC-REG-007 | 미성년자 | 만 18세 신청 | 거절 (UNDERAGE) | 100% |
| TC-REG-008 | CB 동의 없음 | 동의 미확인 상태 모델 실행 | 실행 차단, 오류 코드 반환 | 100% |
| TC-REG-009 | 세금 체납 | 개인사업자, 체납 YES | 거절 (TAX_DELINQUENT) | 100% |
| TC-REG-010 | 최고금리 초과 | 산출 금리 21% | 20%로 자동 조정, 플래그 TRUE | 100% |
| TC-REG-011 | 다주택자 LTV | 2주택자, 일반지역 | LTV 60% 적용 (70%-10%) | 100% |
| TC-REG-012 | 사업 기간 미달 | IRG-H 업종, 사업 18개월 | 거절 (BUSINESS_AGE_INSUFFICIENT) | 100% |
| TC-REG-013 | 거절 사유 3개 | 자동 거절 건 | 한국어 사유 3개 응답 | 100% |
| TC-REG-014 | 스트레스 DSR | 수도권 변동금리 5% | 심사금리 5.75% 적용 확인 | 100% |

### 9.3 유형별 차별화 테스트 케이스

| 테스트 ID | 테스트 항목 | 입력 | 기대 결과 |
|---------|-----------|------|---------|
| TC-TYPE-001 | 직장인 자동 판별 | 4대보험 확인, 사업자번호 없음 | Track-S 라우팅 |
| TC-TYPE-002 | 개인사업자 자동 판별 | 사업자번호 유효 | Track-B 라우팅 |
| TC-TYPE-003 | EQ 등급 한도 차이 | EQ-S vs EQ-D, 동일 소득 5,000만원 | 한도 2.0배 vs 0.9배 차이 |
| TC-TYPE-004 | IRG 한도 차이 | IRG-L vs IRG-H, 동일 소득 | 한도 1.3배 vs 0.9배 차이 |
| TC-TYPE-005 | 소득 인정액 차이 | 종합소득세 vs 자기신고 | 신뢰도 1.00 vs 0.70 반영 |
| TC-TYPE-006 | 매출 급감 하드컷 | 전년 대비 -55% | 자동 승인 불가 확인 |
| TC-TYPE-007 | 개인사업자 소득 역산 | 음식점 매출 2억 | 인정소득 = 2억×15%×0.85 = 2,550만원 |

### 9.4 성능 테스트 케이스

| 테스트 ID | 시나리오 | 목표 |
|---------|---------|------|
| TC-PERF-001 | 100 TPS 30분 연속 | P95 ≤ 200ms, 에러율 < 0.1% |
| TC-PERF-002 | 200 TPS 30분 연속 (최대 부하) | P95 ≤ 500ms, 에러율 < 0.1% |
| TC-PERF-003 | 스파이크 테스트 (10 TPS → 300 TPS 급증) | 5초 이내 안정화 |
| TC-PERF-004 | 행동평점 배치 (기존 고객 100만 건) | 5시간 이내 완료 |
| TC-PERF-005 | CB 조회 타임아웃 시나리오 | 3회 실패 후 수동심사 이관 확인 |

### 9.5 보안 테스트 케이스

| 테스트 ID | 항목 | 기준 |
|---------|------|------|
| TC-SEC-001 | OWASP Top 10 취약점 스캔 | Critical/High 0건 |
| TC-SEC-002 | 주민번호 평문 노출 검사 | 로그·API 응답·DB에 평문 0건 |
| TC-SEC-003 | RBAC 침해 테스트 | 영업점 계정으로 감사 로그 조회 → 403 |
| TC-SEC-004 | JWT 위변조 | 서명 위변조 토큰으로 접근 → 401 |
| TC-SEC-005 | SQL Injection | 입력 필드 SQL 주입 시도 → 차단 |
| TC-SEC-006 | 감사 로그 무결성 | 로그 수정 시도 → 실패 + 경보 |

### 9.6 UAT 필수 시나리오

| 시나리오 ID | 설명 | 합격 기준 |
|-----------|------|---------|
| UAT-001 | 우량 직장인 (EQ-A, CB 780점) 신용대출 3,000만원 | 30초 이내 자동 승인, 금리·한도 화면 표시 |
| UAT-002 | DSR 초과 시 한도 축소 제안 | DSR 역산 최대 한도 자동 제시 |
| UAT-003 | 경계 점수 (465점) 수동 심사 이관 | 심사관 배정, 2영업일 SLA 카운트 시작 |
| UAT-004 | D등급 자동 거절 + 사유 3개 | 한국어 사유 3개 화면·SMS 발송 확인 |
| UAT-005 | 개인사업자 음식점 (IRG-H, 사업 3년) | IRG-H 한도 배수(0.9) 적용 확인 |
| UAT-006 | 개인사업자 세금 체납 | 즉시 거절, 사유 'TAX_DELINQUENT' |
| UAT-007 | 다주택자 (2주택) 주담대 | LTV -10%p 추가 하향 적용 확인 |
| UAT-008 | Shadow 모드 챌린저 비노출 | 챌린저 결과가 고객 화면에 미노출 확인 |
| UAT-009 | 관리자 기준금리 변경 | 변경 즉시 다음 신청 건 금리 반영 |
| UAT-010 | 감사 로그 조회 (내부감사팀) | 특정 신청 건의 전체 처리 이력 조회 가능 |

---

## 10. 운영 요건 (OPR)

### 10.1 SLA 정의

| 구분 | 목표 | 위반 시 |
|------|------|-------|
| 신용평가 API 가용성 | ≥ 99.9% (월) | 월 운영 비용의 10% 크레딧 |
| P1 장애 복구 (전면 중단) | 2시간 이내 | 계약 위약금 |
| P2 장애 복구 (일부 기능) | 8시간 이내 | 경고 |
| P3 장애 (성능 저하) | 2영업일 이내 조치 | 경고 |

**장애 등급 분류**:

| 등급 | 정의 | 1차 대응 |
|------|------|---------|
| P1 | 신용평가 API 전면 불가 / DB 연결 불가 / 보안 침해 | 15분 이내 |
| P2 | 일부 기능 오류 (CB 연동 실패, 배치 지연 등) | 1시간 이내 |
| P3 | 성능 저하 (P95 > 500ms 지속), UI 오류 | 4시간 이내 인지 |

### 10.2 모니터링 및 알림 운영

**알림 조건 및 수신자**:

| 조건 | 수신자 | 채널 |
|------|--------|------|
| P95 응답시간 500ms 초과 | IT 운영팀 | SMS + 슬랙 |
| 에러율 1% 초과 | IT 운영팀 + 개발팀 | SMS + 슬랙 |
| CB 조회 실패율 5% 초과 | IT 운영팀 + 여신팀 | SMS |
| Score PSI ≥ 0.10 | 리스크팀 + 모델 개발팀 | 이메일 |
| Score PSI ≥ 0.20 | 리스크팀 + 여신총괄 | SMS + 이메일 |
| 승인율 전일 대비 ±10%p | 리스크팀 | 이메일 |
| 감사 로그 Kafka Consumer 지연 | IT 운영팀 | SMS (즉시) |
| 고용주 폐업/도산 감지 | 리스크팀 | 이메일 |

### 10.3 배포 및 릴리즈 관리

```
[배포 파이프라인 요건]
코드 변경
  → 자동 단위 테스트 실행 (CI)
  → 코드 품질 검사 (ruff, mypy)
  → 보안 정적 분석 (Bandit)
  → 스테이징 환경 배포
  → 스테이징 통합 테스트 자동 실행
  → QA 승인 (담당자 수동)
  → 운영 배포 (Blue-Green 방식, 무중단)
  → 배포 후 5분 자동 헬스체크
  → 이상 감지 시 자동 롤백

[롤백 요건]
  - 모든 배포는 롤백 절차 사전 준비 필수
  - 코드 롤백: 5분 이내
  - 모델 롤백: 30초 이내 (이전 버전 3개 유지)
  - 파라미터 롤백: 관리자 화면에서 즉시
```

### 10.4 모델 재학습 운영 절차

```
[재학습 표준 절차]
Step 1: 트리거 감지
  → PSI ≥ 0.20 또는 OOT Gini < 0.30 자동 감지
  → 리스크팀 + 모델 개발팀 알림

Step 2: 재학습 실행
  → 최신 6개월 데이터 추가 학습
  → 검증 지표 확인 (OOT Gini, PSI, 공정성)
  → 모델카드 자동 생성

Step 3: 내부 검증 (4 Eyes 원칙)
  → 모델 개발팀: 통계적 유효성 확인
  → 리스크팀: PD 보정, RAROC 영향 분석
  → 컴플라이언스팀: 공정성 검증

Step 4: Shadow 운영 (최소 30일)
  → 챌린저 등록 → Shadow 모드 자동 활성화
  → 성과 비교 대시보드 자동 생성

Step 5: 챔피언 교체 승인
  → 리스크관리위원회 승인
  → 감독당국 사전 통보 (교체 7일 전)
  → 챔피언 교체 실행

Step 6: 사후 모니터링
  → 교체 후 30일간 집중 모니터링
  → 이상 발생 시 즉시 롤백
```

### 10.5 백업 및 복구

| 대상 | 백업 주기 | 보관 기간 | 복구 목표 |
|------|---------|---------|---------|
| PostgreSQL 전체 | 일별 | 30일 | RPO ≤ 1시간 |
| PostgreSQL WAL | 연속 | 7일 | RTO ≤ 1시간 |
| 모델 아티팩트 | 버전 관리 | 현행+직전 3버전 | - |
| 감사 로그 (Kafka) | 즉시 복제 | 5년 | 0 유실 |
| 설정 파라미터 | 변경 시 즉시 | 무기한 | - |

---

## 11. 검수 기준

### 11.1 단계별 검수

| 단계 | 검수 내용 | 합격 기준 | 대금 비율 |
|------|---------|---------|---------|
| 착수 | 요건 확정, 아키텍처 설계 승인 | 은행 IT 기획팀 서명 | 10% |
| 개발 완료 | 단위·통합 테스트 통과 | 코드 커버리지 ≥ 80%, 통합 테스트 전건 통과 | 30% |
| 검증 완료 | 규제·성능·보안 테스트 통과 | TC-REG-001~014 전건 통과, NFR 전항목 달성 | 30% |
| 운영 이관 | UAT 합격, KT 완료 | 현업 팀장 서명, KT 체크리스트 완료 | 20% |
| 안정화 | 3개월 운영 무결함 | P1 장애 0건, SLA 99.9% 달성 | 10% |

### 11.2 최종 검수 합격 기준 (ALL 조건 충족 필수)

```
□ 모델 성능: OOT Gini ≥ 0.30 (Application Scorecard)
□ 모델 칼리브레이션: ECE ≤ 0.02 AND Reliability Diagram 제출 (v1.1 추가)
□ 모델 공정성: 연령대별·소득구간별 Equal Opportunity Gap ≤ 15%p (v1.1 확장)
□ 규제 준수: TC-REG-001~014 전건 합격 (1건 미달 시 전체 불합격)
□ 규제 파라미터 이력: 현행 Phase 파라미터가 효력일과 함께 regulation_params 테이블에 등록 확인 (v1.1 추가)
□ 성능: P95 ≤ 500ms @ 200 TPS (운영 사양 측정)
□ 보안: OWASP Top 10 Critical/High 0건, 키 평문 노출 0건 (v1.1 강화)
□ 감사 로그: 10,000건 테스트 중 누락 0건
□ 거절 사유: 거절 건 전수 한국어 사유 3개 고지
□ 이의제기 프로세스: 테스트 이의제기 건 10영업일 이내 응답 완료 (v1.1 추가)
□ 빈티지 모니터링: 빈티지 대시보드 자동 생성 및 과거 데이터 조회 확인 (v1.1 추가)
□ UAT: 현업 합격률 ≥ 95% (현업 팀장 서명 필수)
□ KT: 은행 IT팀 단독 모델 재학습 실행 성공
□ 산출물: 아래 11.3 항목 전체 납품
```

### 11.3 필수 납품 산출물

**시스템 산출물**:
- 소스 코드 전체 (Git Repository, 권한 은행으로 이전)
- 단위·통합·성능·보안 테스트 결과 보고서
- CI/CD 파이프라인 스크립트

**모델 산출물**:
- Application Scorecard 모델 파일 (pkl)
- Behavioral Scorecard 모델 파일 (pkl)
- Collection Scorecard 모델 파일 (pkl)
- 모델카드 JSON (금감원 모범규준 9개 항목 포함)
- **MRM 문서 (Model Risk Management Document)**: 사용목적·데이터 정의·방법론·검증 결과·한계·승인 이력 포함 (v1.1 추가)
- WOE/IV 분석 보고서
- SHAP 피처 중요도 보고서
- OOT 검증 보고서
- **칼리브레이션 검증 보고서**: Brier Score, ECE, Reliability Diagram (v1.1 추가)
- **빈티지 분석 초기 보고서**: 초기 3개월 코호트 결과 (v1.1 추가)
- PSI 분석 보고서 (Score/Feature/Target PSI 3종 분리)
- 공정성 평가 보고서 (연령대·소득구간 분해)
- **규제 파라미터 테이블 초기 데이터**: regulation_params 초기 등록 데이터 및 Phase 이력 (v1.1 추가)

**운영 산출물**:
- 시스템 아키텍처 문서 (최종)
- 운영 매뉴얼 (시작/종료/장애 대응/재학습/백업복구 절차)
- 관리자 사용 매뉴얼
- 심사관 사용 매뉴얼
- API 명세서 (Swagger/OpenAPI 3.0)
- DB 설계서 (ERD, 테이블 정의서)
- 인터페이스 정의서 (CB·CBS·국세청 등)
- 보안 취약점 조치 결과 보고서 (제3자 기관 발행)

### 11.4 하자 보수 조건

| 기간 | 조건 |
|------|------|
| 무상 하자 보수 | 운영 이관 후 12개월 |
| 응급 하자 (P1) | 접수 후 24시간 이내 수정 배포 |
| 일반 하자 (P2~P3) | 접수 후 5영업일 이내 수정 배포 |
| 규제 변경 대응 | 법령 시행일 30일 전 수정 완료 |

---

## 12. 부록

### 부록 A. 규제 요건 매핑 테이블

| 기능 요건 ID | 관련 법령 | 조항 | 자동 검증 테스트 |
|-----------|---------|-----|-------------|
| FR-REG-001 | 은행업 감독규정 | §79 (DSR) | TC-REG-001~005 |
| FR-REG-002 | 은행업 감독규정 | §37 (LTV) | TC-REG-006 |
| FR-REG-003 | 민법 | §5 (미성년자) | TC-REG-007 |
| FR-REG-004 | 국세징수법 | - | TC-REG-009 |
| FR-REG-005 | 신용정보법 | §32 (CB 동의) | TC-REG-008 |
| FR-REG-006 | 은행업감독규정 | §35의5 (다주택자 LTV) | TC-TYPE-007 |
| FR-REG-007 | 내부 기준 | 사업 기간 | TC-TYPE-006 |
| FR-ADM-002 | 은행업감독규정 §79 등 복수 | 규제 파라미터 효력일 관리 | 골든케이스 회귀테스트 |
| FR-EXP-003~004 | 신용정보법 §39의5 | 자동화평가 설명·이의제기권 | TC-EXP-001~003 |
| NFR-SEC-010 | 개인정보보호법 §29, §24의2 | 암호키 관리체계 (HSM/KMS) | TC-SEC-002 |
| FR-EXP-001 | 금융소비자보호법 | §47 (거절 사유) | TC-REG-013, UAT-004 |
| FR-CNS-001 | 신용정보법 | §32 (동의) | TC-REG-008 |
| FR-PRC-002 | 대부업법 | §8 (최고금리) | TC-REG-010 |
| NFR-SEC-002 | 개인정보 보호법 | §29 | TC-SEC-002 |
| FR-MON 전체 | 금감원 모범규준 | PSI 모니터링 | 월별 자동 검증 |

### 부록 B. 고용주 EQ 등급 세부 분류 기준

| EQ 등급 | 세부 분류 기준 |
|---------|-------------|
| EQ-S | ① 중앙부처·지자체 공무원(일반직·특정직) ② 군인(장교·부사관·병 제외) ③ 공공기관 경영정보 A~B등급 ④ KOSPI 시가총액 상위 50개사 ⑤ 국내 5대 금융그룹 임직원 |
| EQ-A | ① KOSPI 상장사 (시총 상위 50 제외) ② 준정부기관 ③ 지방공사·공단 ④ 공립학교 교원 ⑤ 법원·검찰·경찰 등 국가직 |
| EQ-B | ① KOSDAQ 상장사 ② 비상장 매출 1,000억 이상 ③ 의사·치과의사·한의사·약사·변호사 (면허직, 개인사업자 제외) ④ 사립학교 교원 (정규직) |
| EQ-C | ① 비상장 중소기업 정규직 ② 고용보험 가입 12개월 이상 ③ 4대보험 완납 사업체 |
| EQ-D | ① 10인 미만 사업체 직원 ② 계약직·파견직 (기간 무관) ③ 고용보험 6개월 미만 ④ 수습 3개월~12개월 |
| EQ-E | ① 일용직 ② 고용주 미확인 ③ 수습 3개월 미만 ④ 사업자등록 미확인 고용주 |

### 부록 C. 업종 리스크 IRG 매핑 예시 (KSIC 대분류 기준)

| KSIC 대분류 | 업종 예시 | IRG 등급 |
|-----------|---------|---------|
| Q (보건업·사회복지) | 병원, 의원, 요양원 | IRG-L |
| P (교육 서비스업) | 학원, 학교, 교육기관 | IRG-L |
| O (공공행정) | 공공기관 | IRG-L |
| J (정보통신업) | IT서비스, 소프트웨어, 게임 | IRG-M |
| C (제조업) | 일반 제조 | IRG-M |
| G (도소매업) | 일반 소매 | IRG-M |
| I (숙박·음식점업) | 식당, 카페, 호텔 | IRG-H |
| F (건설업) | 종합건설, 전문건설 | IRG-H |
| L (부동산업) | 부동산 중개 | IRG-H |
| R (예술·스포츠·여가) | 스포츠시설, 오락 | IRG-H |
| S (기타 개인 서비스) | 유흥업, 사행성 업종 | IRG-VH |

*상세 KSIC 5단위 매핑 테이블은 별도 Excel 파일(IRG_Mapping_v1.0.xlsx) 참조*

---

*본 문서는 Korea Credit Scoring System (KCS) SI 발주를 위한 상세 요건 정의서입니다.*
*v1.0 기준일: 2026-02-27*
*다음 개정 예정: 현업 서명 완료 후 v1.1 (RFP 첨부용)*
